{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport React, { useState, useEffect } from 'react';\nimport { auth, firebase } from \"../firebase\";\nimport { collection, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { getAuth } from 'firebase/auth';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar SendCash = function SendCash() {\n  var user = auth.currentUser;\n  var ownid = user.uid;\n  var todoRef = firebase.firestore().collection('Users');\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    availableAmount1 = _useState2[0],\n    setAvailableAmount1 = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    uid = _useState4[0],\n    setUid = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    current1 = _useState6[0],\n    setCurrent1 = _useState6[1];\n  var getUser = function getUser() {\n    todoRef.doc(uid).get().then(function (documentSnapshot) {\n      console.log('user exixts: ', documentSnapshot.exists);\n      if (documentSnapshot.exists) {\n        todoRef.doc(ownid).get().then(function (documentSnapshot) {\n          if (documentSnapshot.exists) {\n            console.log('User data: ', documentSnapshot.data());\n            setCurrent1(documentSnapshot.data());\n          }\n        });\n      }\n    });\n  };\n  var updateData = function updateData() {\n    if (Number(availableAmount1) < Number(current1.availableAmount)) {\n      todoRef.doc(uid).update({\n        availableAmount: Number(availableAmount1) + Number(current1.availableAmount)\n      }).then(function () {\n        todoRef.doc(ownid).update({\n          availableAmount: Number(current1.availableAmount) - Number(availableAmount1)\n        });\n      });\n      console.log('You have sent: ', availableAmount1, \"to\", uid);\n      alert('Succesfull Transacation');\n    } else if (Number(availableAmount1) > Number(current1.availableAmount)) {\n      console.log('KULANG PERA MO PRE');\n      alert('Insuficient funds');\n    } else if (Number(availableAmount1) == Number(current1.availableAmount)) {\n      todoRef.doc(uid).update({\n        availableAmount: Number(availableAmount1) + Number(current1.availableAmount)\n      }).then(function () {\n        todoRef.doc(ownid).update({\n          availableAmount: Number(current1.availableAmount) - Number(availableAmount1)\n        });\n      });\n      console.log('You have sent: ', availableAmount1, \"to\", uid);\n      alert('Succesfull Transacation');\n    }\n  };\n  return _jsx(KeyboardAvoidingView, {\n    style: styles.container,\n    behavior: \"padding\",\n    children: _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsxs(View, {\n        children: [_jsxs(Text, {\n          children: [\"Wallet Balance: \", current1.availableAmount]\n        }), _jsx(TextInput, {\n          value: uid,\n          onChangeText: setUid,\n          placeholder: \"Enter User Uid: \",\n          style: styles.input\n        }), _jsx(TextInput, {\n          value: availableAmount1,\n          onChangeText: setAvailableAmount1,\n          placeholder: \"How much do you wish to send: \",\n          style: styles.input,\n          alert: 'asdasd'\n        })]\n      }), _jsxs(View, {\n        children: [_jsx(TouchableOpacity, {\n          onPress: getUser,\n          style: styles.button,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Validate User \"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: updateData,\n          style: styles.button,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Send \"\n          })\n        })]\n      })]\n    })\n  });\n};\nexport default SendCash;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputContainer: {\n    width: '80%'\n  },\n  input: {\n    backgroundColor: 'white',\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 10,\n    marginTop: 5\n  },\n  buttonContainer: {\n    width: '60%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 40\n  },\n  button: {\n    backgroundColor: '#0782F9',\n    width: '100%',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  buttonOutline: {\n    backgroundColor: 'white',\n    marginTop: 5,\n    borderColor: '#0782F9',\n    borderWidth: 2\n  },\n  buttonText: {\n    color: 'white',\n    fontWeight: '700',\n    fontSize: 16\n  },\n  buttonOutlineText: {\n    color: '#0782F9',\n    fontWeight: '700',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","auth","firebase","collection","setDoc","doc","getDoc","querySnapshot","documentSnapshot","getDocs","snapshotEqual","onSnapshot","db","getAuth","jsxs","_jsxs","jsx","_jsx","SendCash","user","currentUser","ownid","uid","todoRef","firestore","_useState","_useState2","_slicedToArray","availableAmount1","setAvailableAmount1","_useState3","_useState4","setUid","_useState5","_useState6","current1","setCurrent1","getUser","get","then","console","log","exists","data","updateData","Number","availableAmount","update","alert","KeyboardAvoidingView","style","styles","container","behavior","children","View","inputContainer","Text","TextInput","value","onChangeText","placeholder","input","TouchableOpacity","onPress","button","buttonText","StyleSheet","create","flex","justifyContent","alignItems","width","backgroundColor","paddingHorizontal","paddingVertical","borderRadius","marginTop","buttonContainer","padding","buttonOutline","borderColor","borderWidth","color","fontWeight","fontSize","buttonOutlineText"],"sources":["C:/Users/-/Desktop/mobileTeam/screens/SendCash.js"],"sourcesContent":["import { View, Text, FlatList, StyleSheet, Pressable, TextInput, Button, Touchable, TouchableOpacity, KeyboardAvoidingView } from 'react-native';\r\nimport React ,{useState, useEffect} from 'react';\r\nimport { auth, firebase } from '../firebase';\r\nimport {collection, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot} from 'firebase/firestore'\r\nimport { db } from '../firebase'\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nconst SendCash = () => {\r\n  \r\n  const user = auth.currentUser\r\n  const ownid = user.uid\r\n  \r\n    const todoRef = firebase.firestore().collection('Users');\r\n\r\n    const [ availableAmount1, setAvailableAmount1] = useState('')\r\n    const [uid , setUid] = useState('')\r\n    const [current1 , setCurrent1] = useState('')\r\n   \r\n\r\n\r\n    const getUser = () => {\r\n      todoRef\r\n      .doc(uid)\r\n      .get()\r\n      .then(documentSnapshot => {\r\n        console.log( 'user exixts: ', documentSnapshot.exists);\r\n    \r\n        if(documentSnapshot.exists){\r\n          \r\n\r\n            todoRef\r\n            .doc(ownid)\r\n            .get()\r\n            .then(documentSnapshot => {\r\n              if(documentSnapshot.exists){\r\n                console.log('User data: ', documentSnapshot.data());\r\n          setCurrent1(documentSnapshot.data());\r\n              }\r\n              \r\n            })\r\n\r\n        }\r\n        \r\n      })\r\n      \r\n\r\n    }\r\n\r\n    \r\n    \r\n      \r\n    const updateData = () => {\r\n        \r\n        \r\n        \r\n                      //input                             from fireabase\r\n          if (Number(availableAmount1) < Number(current1.availableAmount) ){\r\n            todoRef\r\n            .doc(uid)\r\n            .update({             //from input                        //from fireabse\r\n              availableAmount:  Number(availableAmount1) + Number(current1.availableAmount)\r\n            })\r\n            .then (() => {\r\n              todoRef\r\n              .doc(ownid)\r\n              .update({                 // input                    // firebase\r\n                availableAmount:  Number(current1.availableAmount) - Number(availableAmount1)\r\n              })\r\n              \r\n            })\r\n              console.log('You have sent: ',availableAmount1, \"to\", uid);\r\n              alert('Succesfull Transacation')\r\n            \r\n          } else if (Number(availableAmount1) > Number(current1.availableAmount)){\r\n           \r\n              console.log('KULANG PERA MO PRE')\r\n              alert('Insuficient funds')\r\n            \r\n          }else if (Number(availableAmount1) == Number(current1.availableAmount)){\r\n            todoRef\r\n            .doc(uid)\r\n            .update({             //from input                        //from fireabse\r\n              availableAmount:  Number(availableAmount1) + Number(current1.availableAmount)\r\n            })\r\n            .then (() => {\r\n              todoRef\r\n              .doc(ownid)\r\n              .update({                 // input                    // firebase\r\n                availableAmount:  Number(current1.availableAmount) - Number(availableAmount1)\r\n              })\r\n              \r\n            })\r\n            console.log('You have sent: ',availableAmount1, \"to\", uid);\r\n            alert('Succesfull Transacation')\r\n          \r\n        }\r\n              \r\n              \r\n        \r\n      };\r\n\r\n      \r\n\r\n \r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n    style={styles.container}\r\n      behavior=\"padding\"\r\n    >\r\n  \r\n    <View style= {styles.inputContainer}> \r\n\r\n        <View>\r\n            <Text>Wallet Balance: {current1.availableAmount}</Text>\r\n            <TextInput \r\n                value={uid} \r\n                onChangeText={setUid}\r\n                placeholder=\"Enter User Uid: \"\r\n                style={styles.input}/>\r\n                  \r\n            <TextInput \r\n                value={availableAmount1} \r\n                onChangeText={setAvailableAmount1} \r\n                placeholder=\"How much do you wish to send: \"\r\n                style={styles.input}\r\n                alert={'asdasd'}\r\n            />\r\n            \r\n            </View>\r\n            <View>\r\n            <TouchableOpacity  onPress={getUser} style={styles.button}>\r\n                <Text style={styles.buttonText} >Validate User </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity  onPress={updateData} style={styles.button}>\r\n                <Text style={styles.buttonText} >Send </Text>\r\n            </TouchableOpacity>\r\n            \r\n             </View>\r\n            \r\n            \r\n            \r\n          \r\n      \r\n    </View>\r\n    </KeyboardAvoidingView>\r\n  )\r\n}\r\n\r\nexport default SendCash\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    inputContainer: {\r\n      width: '80%'\r\n    },\r\n    input: {\r\n      backgroundColor: 'white',\r\n      paddingHorizontal: 15,\r\n      paddingVertical: 10,\r\n      borderRadius: 10,\r\n      marginTop: 5,\r\n    },\r\n    buttonContainer: {\r\n      width: '60%',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      marginTop: 40,\r\n    },\r\n    button: {\r\n      backgroundColor: '#0782F9',\r\n      width: '100%',\r\n      padding: 15,\r\n      borderRadius: 10,\r\n      alignItems: 'center',\r\n    },\r\n    buttonOutline: {\r\n      backgroundColor: 'white',\r\n      marginTop: 5,\r\n      borderColor: '#0782F9',\r\n      borderWidth: 2,\r\n    },\r\n    buttonText: {\r\n      color: 'white',\r\n      fontWeight: '700',\r\n      fontSize: 16,\r\n    },\r\n    buttonOutlineText: {\r\n      color: '#0782F9',\r\n      fontWeight: '700',\r\n      fontSize: 16,\r\n    },\r\n  })"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}